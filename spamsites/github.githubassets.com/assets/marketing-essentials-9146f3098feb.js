"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["marketing-essentials"],{88774:(e,t,r)=>{r(95911),r(59264),r(78903),(0,r(39595).Se)({"active-global-banners":()=>r.e("app_assets_modules_marketing_active-global-banners_ts").then(r.bind(r,39389)),"global-banner":()=>r.e("app_assets_modules_marketing_global-banner_ts").then(r.bind(r,42241)),"locale-selector":()=>r.e("app_assets_modules_marketing_locale-selector-element_ts").then(r.bind(r,39344))})},95911:(e,t,r)=>{var i=r(97797),n=r(21403),a=r(38102),o=r(53419);let s="data-analytics-event",l="data-analytics-visible",d=`a:not([${s}]), button:not([${s}]), [${s}]`,c=`[${l}]`;function u(e,t){return e.tagName.toLowerCase()===t}function m(e){return{text:e.textContent||e.getAttribute("aria-label")||"",target:e.href}}function h(e){let t=e.closest("form");return{text:e.textContent||e.getAttribute("aria-label")||"",role:e.getAttribute("type")||e.getAttribute("role")||"button",...e.value&&{value:e.value},...t&&{formAction:t.getAttribute("action")||""}}}function p(e){if(!e)return{};let t=JSON.parse(e),{label:r}=t;return{...function(e){if(!e)return{};let t={};for(let r of e.split(";").map(e=>e.trim())){let[e,i]=r.split(":");e&&(t[e.trim()]=i?.trim()||e.trim())}return t}(r),...t}}(0,i.on)("click",d,e=>{if(e&&e.currentTarget)try{(0,o.BI)("analytics.click",function(e){return{...u(e,"a")&&m(e),...u(e,"button")&&h(e),...p(e.getAttribute(s))}}(e.currentTarget)),u(e.currentTarget,"details")&&e.currentTarget.removeAttribute(s)}catch(e){(0,a.N7)(e)}});let b=new IntersectionObserver(function(e){for(let r of e)if(r.isIntersecting)try{var t;(0,o.BI)("analytics.visible",(t=r.target,{...u(t,"a")&&m(t),...u(t,"button")&&h(t),...p(t.getAttribute(l))})),b.unobserve(r.target)}catch(e){(0,a.N7)(e)}},{rootMargin:"0% 0% -30% 0%",threshold:0});(0,n.lB)(c,e=>{b.observe(e)})},59264:(e,t,r)=>{var i=r(21403);(0,i.lB)(".js-nav-padding-recalculate",e=>{let t=!1,r=0,i=document.querySelector(".js-header-menu"),n=document.querySelector(".js-header-wrapper"),a=document.querySelector(".js-header"),o=document.querySelectorAll(".js-prevent-focus-on-mobile-nav"),s=e=>{let t;return()=>{t&&cancelAnimationFrame(t),t=requestAnimationFrame(e)}},l=()=>{let e=n?.clientHeight;e!==r&&(document.documentElement.style.setProperty("--header-wrapper-height",`${e}px`),r=e)},d=()=>{if(!i||!n||!a)return;let e=n.clientHeight,t="absolute"===getComputedStyle(a).position,r="fixed"===getComputedStyle(n).position;t&&(e+=a.clientHeight),r||(e-=window.scrollY),i.style.setProperty("padding-top",`${e}px`)},c=s(d);if(n&&"fixed"===getComputedStyle(n).position){let e=s(l);new ResizeObserver(()=>{e()}).observe(n),l()}let u=r=>{"Escape"===r.key&&t&&(e.click(),e.focus())};window.removeEventListener("resize",d),document.removeEventListener("keydown",u);let m=()=>{t||d()};document.addEventListener("global-banner:close",()=>{t&&d()}),e.addEventListener("mousedown",m),e.addEventListener("touchstart",m,{passive:!0}),e.addEventListener("keydown",m),a.addEventListener("details:toggled",e=>{if(e.target===a){if(t=e.detail.open){if(window.addEventListener("resize",c),document.addEventListener("keydown",u),o)for(let e of o)e.setAttribute("tabindex","-1")}else if(window.removeEventListener("resize",c),document.removeEventListener("keydown",u),o)for(let e of o)e.removeAttribute("tabindex")}},!1)}),(0,i.lB)('#__primerPortalRoot__, .js-header [data-target="deferred-side-panel.panel"]',e=>{e.setAttribute("data-color-mode","light"),e.setAttribute("data-light-theme","light"),e.setAttribute("data-dark-theme","dark")}),(0,i.lB)(".js-header-menu-focus-trap",e=>{e.addEventListener("focusin",()=>{let e=document.querySelector(".js-header-menu-toggle");e&&e.focus()})}),(0,i.lB)(".js-header-overlay-fixed",()=>{let e=document.querySelector(".js-header-wrapper"),t=document.createElement("div");t.setAttribute("data-scroll-watcher","true"),e.before(t),new IntersectionObserver(t=>{e?.setAttribute("data-is-top",`${t[0]?.isIntersecting}`)},{rootMargin:"100px 0px 0px 0px"}).observe(t)})},78903:(e,t,r)=>{var i=r(50467);new class QueryParamOverrider{collectParams(){for(let e of this.paramsToOverride){let t=RegExp(`${e}=([^=&]*)`,"i"),r=t.exec(this.queryString);t.lastIndex=0,r&&r[1]&&(this.collectedParamsMap[e]=r[1],this.collectedParams.push(`${e}=${r[1]}`))}}overrideParams(e){let t=e.getAttribute("href"),r="";if(!(!t||/^javascript:|^mailto:|^tel:|^#/.test(t))){if(-1!==t.indexOf("#")){let e=t.split("#");if(2!==e.length)return;e[0]&&(t=e[0]),e[1]&&(r=`#${e[1]}`)}if(-1===t.indexOf("?"))t+=`?${this.collectedParams.join("&")}`;else for(let e of this.paramsToOverride){if(!this.collectedParamsMap.hasOwnProperty(e))continue;let r=RegExp(`${e}=([^=&]*)`,"i"),i=r.exec(t);if(r.lastIndex=0,!i){this.collectedParamsMap.hasOwnProperty(e)&&(t+=`&${e}=${this.collectedParamsMap[e]}`);continue}t=t.replace(r,`${e}=${this.collectedParamsMap[e]}`)}t+=r,e.setAttribute("data-override-applied","true"),e.setAttribute("href",t)}}eventReaction(e){let t=e.target;!t||"A"!==t.tagName||t.hasAttribute("data-override-applied")||this.overrideParams(t)}bindEvents(){document.body.addEventListener("mouseenter",this.eventReaction.bind(this),!0),document.body.addEventListener("touchstart",this.eventReaction.bind(this),{passive:!0,capture:!0})}constructor(){if((0,i._)(this,"paramsToOverride",void 0),(0,i._)(this,"queryString",void 0),(0,i._)(this,"collectedParamsMap",void 0),(0,i._)(this,"collectedParams",void 0),(0,i._)(this,"queryRe",void 0),this.paramsToOverride=["utm_campaign","utm_medium","utm_source","ocid"],this.queryString=document.location.search,this.collectedParamsMap={},this.collectedParams=[],this.queryRe=RegExp(`(${this.paramsToOverride.join("|")})=([^=&]*)`,"gi"),!this.queryString||!this.queryRe.test(this.queryString))return;this.collectParams(),this.bindEvents()}}},53419:(e,t,r)=>{let i;r.d(t,{BI:()=>p,Ti:()=>b,lA:()=>m,sX:()=>h});var n=r(70837),a=r(18679),o=r(82075),s=r(11083);let{getItem:l}=(0,o.A)("localStorage"),d="dimension_",c=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,n.O)("octolytics");delete e.baseContext,i=new a.s(e)}catch{}function u(e){let t=(0,n.O)("octolytics").baseContext||{};if(t)for(let[e,r]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(d)&&(t[e.replace(d,"")]=r,delete t[e]);let r=document.querySelector("meta[name=visitor-payload]");for(let[e,i]of(r&&Object.assign(t,JSON.parse(atob(r.content))),new URLSearchParams(window.location.search)))c.includes(e.toLowerCase())&&(t[e]=i);return t.staff=(0,s.X)().toString(),Object.assign(t,e)}function m(e){i?.sendPageView(u(e))}function h(){return document.head?.querySelector('meta[name="current-catalog-service"]')?.content}function p(e,t={}){let r=h(),n=r?{service:r}:{};for(let[e,r]of Object.entries(t))null!=r&&(n[e]=`${r}`);i&&(u(n),i.sendEvent(e||"unknown",u(n)))}function b(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}}},e=>{e.O(0,["vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_stacktrace-parser_dist_s-1d3d52","vendors-node_modules_github_selector-observer_dist_index_esm_js","vendors-node_modules_delegated-events_dist_index_js-node_modules_github_catalyst_lib_index_js-f1d992","packages_failbot_failbot_ts"],()=>e(e.s=88774)),e.O()}]);
//# sourceMappingURL=marketing-essentials-a0a38a3a2e13.js.map